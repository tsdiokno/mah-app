<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mah App</title>
</head>
<body>

  <h1>mAh.app</h1>
  <p>Find the best powerbank for your gadget.</p>

  <input type="number" id="capacity">

  <table>
    <tr>
      <td>Powerbank1</td>
      <td>Powerbank2</td>
      <td>Powerbank3</td>
    </tr>
    <tr>
      <td id="pbank-1">3000</td>
      <td id="pbank-2">9600</td>
      <td id="pbank-3">1000</td>
    </tr>
    <tr>
      <td id="pbank-1-result">[charge cycles]</td>
      <td id="pbank-2-result">[charge cycles]</td>
      <td id="pbank-3-result">[charge cycles]</td>
    </tr>
  </table>

  <script type="text/javascript">

    var input = document.getElementById('capacity');

    // Available capacities + results container
    var capacity1 = document.getElementById('pbank-1');
    var result1 = document.getElementById('pbank-1-result');

  function isFloat(value) {
    var valueToString = value.toString();
    if( isNaN(value) || valueToString.indexOf('.') < 0 ){
    return false;
    } else {
      if(parseFloat(value)) {
        return true;
      } else {
        return false;
      }
    }
  }

    function practiceCalcFuncDo () {

      var inputValue = parseInt(input.value);

      function practiceCalcFunc(capacityVal) {

        // Calculation
        var getCapacityVal = capacityVal.innerText;
        var practiceCalc = getCapacityVal * 0.20 / inputValue;
        var practiceCalcRnd = +practiceCalc.toFixed(2);

        // Conditional displays
        if ( practiceCalcRnd >= 1 ) {
          result1.innerText = practiceCalcRnd + ' charge cycles';
        } else {
          result1.innerText = 'up to 1 charge cycle';
        }

        // Int vs. Float Validator

        practiceCalcToFloat = parseFloat(practiceCalc);
        console.log('practiceCalcToFloat ' + practiceCalcToFloat);
        practiceCalcToString = practiceCalc.toString();
        console.log('practiceCalcToString ' + practiceCalcToString);

        if ( practiceCalcToString.indexOf('.') < 0 ) {
          console.log('probably an integer (x charge cycles)');
        }

        if ( practiceCalcToString.indexOf('.') >= 0 ) {
          console.log('probably a float (x charge cycles and more)');
        }

        if ( practiceCalcToString >= 1 && practiceCalcToString < 2 ) {
          console.log('probably a 1 (x charge cycle or more)');
        }

        if ( practiceCalcToString < 1 ) {
          console.log('probably zero (up to one charge cycle)');
        }

      }

      if ( Number.isInteger(inputValue) ) { // check if input is int
        practiceCalcFunc(capacity1);
      }

    }

    input.addEventListener('keyup', practiceCalcFuncDo, false);

  </script>

</body>
</html>
